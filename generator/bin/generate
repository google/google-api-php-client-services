#!/usr/bin/env php
<?php

require_once __DIR__ .'/../vendor/autoload.php';

use Google\Service\Generator\ServiceGenerator;

$optind = null;
$options = getopt("c:",[], $optind);
$pos_args = array_slice($argv, $optind);

if (count($pos_args) == 2) {
  (new ServiceGenerator($pos_args[1]))->generate($pos_args[0]);
} else {
  error_log("\nPlease specify a discovery URL and a destination directory. For example:\n
  bin/generate 'https://www.googleapis.com/discovery/v1/apis/drive/v2/rest' DriveV2\n");
}

if (!isset($options['c'])) {
  $options['c'] = '2014';
}

